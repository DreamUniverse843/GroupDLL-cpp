# GroupDLL-cpp for Baozipu QQ Group
为包子铺群机器人设计的 MiraiCP 机器人插件。

目前已结束迁移重构（Yiyuyan -> C++）。正在根据需要进行扩展开发。

2022-11-01: 迁移已经基本完成，除部分 API 限制无法实现的功能外均已可用。
2022-12-07: 扩展方案已完成。

## 迁移进度
### 基本监听业务
- [x] 入群申请提示(部分完成迁移, 入群附言等待 MiraiCP JoinRequestEvent 更新接口)
- [x] 成员离开事件(主动、踢出、被自动清理)
- [x] 遍历群成员
- [x] 自动检测群名片
- [x] 入群成员提示语
### 文件操作业务
- [x] 离群日志
- [x] 入群黑名单<br>感谢 SimpleINI 为上述业务提供了简明高效的 ini 操作库。
- [x] 自动发送落地文件<br>(日志采用本地写出而不再使用逐个发送 MessageChain)

## 之后的扩展方案
### 阶段一
- [x] 自动识别并踢出不合要求的群成员，并记录至本地(支持日志自动发出)
- [x] 当 JVM 发生崩溃时自动重启并提示
- [x] 回复文本从配置文件读取(需要处理换行符等转义字符传参问题)
- [x] 启动时提示(通过 BotOnlineEvent 获知启动事件并提示)
- [x] 敏感词自动记录，撤回并禁言

### 阶段二
- [] 存储类型变换(增加 SQL/SQLite 数据库类型支持以应对 ini 文件过大问题)
- [] 对特定的复读类型进行拦截
- [] 对多次触发撤回的成员进行梯级禁言策略
- [] 对成员的禁言次数、时间进行统计以供管理员参考

## 致谢

感谢 MiraiCP 为 C++ 语言提供了高性能无中间件接口；

感谢 SimpleINI 为文件业务提供了简明高效的 ini 操作库。